<howto>
h1.  Transient

h2.  Summary

Transient fields in Java work like their counterpart in Serialization.  Transient fields are not a part of the shared graph.  When objects are "materialized" in another VM, the transient fields are set to null.  

Terracotta supports transient fields in two ways.  

First, Terracotta can honor the transient keyword.  This is not the default setting, however, so it is necessary to enable this behavior expicitly.

Second, Terracotta can force any field to be transiet.  This can be done by marking the field explicitly.

Finally, when an object materializes in another VM, it may be necessary to fixup the transient field.  Terracotta provides this ability by enabling a portion of bean-shell script to be run when the object is created.  

This recipe demonstrates the use of all three of these aspects.

h2.  How to run

*Node 1:*
{code}
$ javac *.java
$ start-tc-server &amp;
$ dso-java Main
-- Transient1 -- 
transient foo is : Hello
          bar is : World
-- Transient2 -- 
foo is : Hello
bar is : World
-- Transient3 -- 
foo is : Hello
bar is : World
{code}

*Node 2:*
{code}
$ dso-java Main
-- Transient1 -- 
transient foo is : null
          bar is : World
-- Transient2 -- 
foo is : null
bar is : World
-- Transient3 -- 
foo is : Goodbye cruel
bar is : World
{code}
</howto>
