<tc:tc-config xmlns:tc="http://www.terracotta.org/config"
  xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
  xsi:schemaLocation="http://www.terracotta.org/schema/terracotta-4.xsd">

  <application>
    <dso>  
      <instrumented-classes>
        <include>
          <class-expression>test.terracota.demo.rmi.RemoteInvoker$*</class-expression>
        </include>
        <include>
          <class-expression>test.terracota.demo.rmi.Main</class-expression>
        </include>
      </instrumented-classes>
      <locks>
        <autolock>
           <method-expression>* test.terracota.demo.rmi.RemoteInvoker.run(..)</method-expression>
        </autolock>
        <autolock>
           <method-expression>* test.terracota.demo.rmi.RemoteInvoker$MethodArguments.getResult(..)</method-expression>
        </autolock>
        <autolock>
           <method-expression>* test.terracota.demo.rmi.RemoteInvoker$MethodArguments.setResult(..)</method-expression>
        </autolock>
      </locks>
      <roots>
        <root>
          <field-name>test.terracota.demo.rmi.RemoteInvoker.queue</field-name>
        </root>
        <root>
          <field-name>test.terracota.demo.rmi.RemoteInvoker.instance</field-name>
        </root>
      </roots>
    </dso>
  </application>
</tc:tc-config>
