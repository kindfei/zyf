<tc:tc-config xmlns:tc="http://www.terracotta.org/config"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xsi:schemaLocation="http://www.terracotta.org/config terracotta-4.xsd ">
	<servers>
		<server host="10.15.2.246">
			<dso>
				<garbage-collection>
					<interval>360</interval>
				</garbage-collection>
			</dso>
			<l2-group-port>9530</l2-group-port>
		</server>
	</servers>

	<!-- Tell DSO where to put the generated client logs -->
	<clients>
		<logs>%(user.home)/terracotta/client-logs</logs>
		<modules>
			<module name="clustered-apache-struts-1.1" version="2.6.1" />
		</modules>
	</clients>
	<application>
		<dso>
			<roots>
				<root>
					<field-name>
						cn.bestwiz.jhf.core.ratecache.RateCacheTC.m_mapCustSpotRate
					</field-name>
				</root>
				<root>
					<field-name>
						cn.bestwiz.jhf.core.ratecache.RateCacheTC.m_mapFxSpotRate
					</field-name>
				</root>
			</roots>
			<locks>
				<named-lock>
					<lock-name>lockA</lock-name>
					<method-expression>
						*
						cn.bestwiz.jhf.core.ratecache.RateCacheTC.putCustomerRate(..)
					</method-expression>
					<lock-level>write</lock-level>
				</named-lock>
				<named-lock>
					<lock-name>lockB</lock-name>
					<method-expression>
						*
						cn.bestwiz.jhf.core.ratecache.RateCacheTC.putFxSpotRate(..)
					</method-expression>
					<lock-level>write</lock-level>
				</named-lock>
			</locks>

			<!--Include all classes for DSO instrumentation-->
			<instrumented-classes>
				<include>
					<class-expression>
						cn.bestwiz.jhf.core.ratecache.RateCacheTC
					</class-expression>
				</include>
				<include>
					<class-expression>
						cn.bestwiz.jhf.core.jms.bean.CustSpotRateInfo
					</class-expression>
				</include>
				<include>
					<class-expression>
						cn.bestwiz.jhf.core.jms.bean.FxSpotRateInfo
					</class-expression>
				</include>
			</instrumented-classes>
		</dso>
	</application>

</tc:tc-config>
